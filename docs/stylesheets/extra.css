:root {
  /* --- ЦВЕТА ИНТЕРФЕЙСА (VS Code Dark) --- */
  
  /* Основной цвет шапки и активных элементов (СПОКОЙНЫЙ СИНИЙ вместо ядерного фиолетового) */
  --md-primary-fg-color:        #007acc; 
  --md-primary-fg-color--light: #007acc;
  --md-primary-fg-color--dark:  #005f9e;

  /* Цвет ссылок и акцентов (Мягкий голубой) */
  --md-accent-fg-color:         #4ec9b0; 
  
  /* Фон бокового меню (Темно-серый, чтобы не резало глаза) */
  --md-default-bg-color:        #1e1e1e;
  
  /* Фон контента (Чуть светлее меню, классика) */
  --md-default-fg-color:        #d4d4d4;
  --md-default-fg-color--light: #d4d4d4;
}

/* Убираем кислотную тень под шапкой */
.md-header {
  background-color: #1e1e1e !important;
  border-bottom: 1px solid #333;
}

/* Делаем вкладки меню (tabs) темными */
.md-tabs {
  background-color: #1e1e1e !important;
}

/* Делаем боковое меню темным */
.md-sidebar {
    background-color: #1e1e1e;
}

/* --- Древовидные линии (Tree Guidelines) --- */
.md-nav__item .md-nav__list {
    border-left: 1px solid #444; /* Рисуем серую линию слева */
    margin-left: 0.5rem;         /* Чуть сдвигаем вправо */
    padding-left: 0.5rem;        /* Отступ от линии */
}

/* ==========================================================================
   1. ГЛОБАЛЬНЫЕ НАСТРОЙКИ (РАБОТАЮТ И В ТЕМНОЙ, И В СВЕТЛОЙ ТЕМЕ)
   ========================================================================== */

/* --- Раздвигаем сайт вширь (Больше места для контента) --- */
.md-grid {
    max-width: 95% !important;
    margin-right: auto !important;
    margin-left: auto !important;
}

.md-content {
    margin-left: 1rem;
    margin-right: 1rem;
}

/* --- Убираем размытые градиенты в меню (делаем четко) --- */
.md-sidebar__scrollwrap {
    -webkit-mask-image: none !important;
    mask-image: none !important;
}

/* --- Древовидные линии (Tree Guidelines) --- */
.md-nav__item .md-nav__list {
    border-left: 1px solid var(--md-default-fg-color--lightest); /* Линия адаптируется под тему */
    margin-left: 0.5rem;
    padding-left: 0.5rem;
}

/* Убираем линию для первого уровня */
.md-sidebar--primary > .md-sidebar__scrollwrap > .md-nav > .md-nav__list {
    border-left: none;
    margin-left: 0;
}

[data-md-color-scheme="slate"] {
    /* Переопределяем переменные цветов на VS Code Dark (#1e1e1e) */
    --md-default-bg-color:        #1e1e1e;
    --md-default-fg-color:        #d4d4d4;
    --md-default-fg-color--light: #d4d4d4;
    
    /* Цвет ссылок (мягкий синий) */
    --md-accent-fg-color:         #4ec9b0;
}

/* Красим шапку в #1e1e1e ТОЛЬКО в темной теме */
[data-md-color-scheme="slate"] .md-header {
    background-color: #1e1e1e !important;
    border-bottom: 1px solid #333;
}

/* Красим меню в #1e1e1e ТОЛЬКО в темной теме */
[data-md-color-scheme="slate"] .md-sidebar {
    background-color: #1e1e1e;
}

[data-md-color-scheme="slate"] .md-tabs {
    background-color: #1e1e1e !important;
}

/* Исправляем фон заголовков в меню для темной темы */
[data-md-color-scheme="slate"] .md-nav__title {
    background-color: transparent !important;
    box-shadow: none !important;
}